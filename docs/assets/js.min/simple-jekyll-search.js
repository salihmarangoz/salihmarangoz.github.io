(()=>{var u={compile:function(n){return i.template.replace(i.pattern,function(t,e){var r=i.middleware(e,n[e],i.template);return void 0!==r?r:n[e]||t})},setOptions:function(t){i.pattern=t.pattern||i.pattern,i.template=t.template||i.template,"function"==typeof t.middleware&&(i.middleware=t.middleware)}},i={pattern:/\{(.*?)\}/g,template:"",middleware:function(){}},e=new function(){this.matches=function(t,e){var r=e.toLowerCase(),n=t.toLowerCase(),i=n.length,o=r.length;if(i<o)return!1;if(o===i)return r===n;t:for(var u=0,a=0;u<o;u++){for(var s=r.charCodeAt(u);a<i;)if(n.charCodeAt(a++)===s)continue t;return!1}return!0}},r=new function(){this.matches=function(e,t){return!!e&&(e=e.trim().toLowerCase(),(t=t.trim().toLowerCase()).split(" ").filter(function(t){return 0<=e.indexOf(t)}).length===t.split(" ").length)}},a={put:function(t){if(c(t))return f(t);if(o=t,Boolean(o)&&"[object Array]"===Object.prototype.toString.call(o)){var e=t,r=[];l();for(var n=0,i=e.length;n<i;n++)c(e[n])&&r.push(f(e[n]));return r}var o},clear:l,search:function(t){return t?((t,e,r,n)=>{for(var i=[],o=0;o<t.length&&i.length<n.limit;o++){var u=((t,e,r,n)=>{for(var i in t)if(!((t,e)=>{for(var r=!1,n=0,i=(e=e||[]).length;n<i;n++){var o=e[n];!r&&new RegExp(t).test(o)&&(r=!0)}return r})(t[i],n.exclude)&&r.matches(t[i],e))return t})(t[o],e,r,n);u&&i.push(u)}return i})(o,t,s.searchStrategy,s).sort(s.sort):[]},setOptions:function(t){(s=t||{}).fuzzy=t.fuzzy||!1,s.limit=t.limit||10,s.searchStrategy=t.fuzzy?e:r,s.sort=t.sort||n}};function n(){return 0}var o=[],s={};function l(){return o.length=0,o}function c(t){return Boolean(t)&&"[object Object]"===Object.prototype.toString.call(t)}function f(t){return o.push(t),o}s.fuzzy=!1,s.limit=10,s.searchStrategy=s.fuzzy?e:r,s.sort=n;var t,p,d,h,m,v=function(t,e){var r,n,i=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("GET",t,!0),i.onreadystatechange=(r=i,n=e,function(){if(4===r.readyState&&200===r.status)try{n(null,JSON.parse(r.responseText))}catch(t){n(t,null)}}),i.send()},w=function(t,e){var r,n={};for(r in t)n[r]=t[r],void 0!==e[r]&&(n[r]=e[r]);return n},y=function(t){try{return!!(t instanceof Object&&JSON.parse(JSON.stringify(t)))}catch(t){return!1}};function g(t){a.put(t),p.searchInput.addEventListener("keyup",function(t){var e;e=t.which,-1===[13,16,20,37,38,39,40,91].indexOf(e)&&(O(),S(t.target.value))})}function O(){p.resultsContainer.innerHTML=""}function z(t){p.resultsContainer.innerHTML+=t}function S(t){var e;if((e=t)&&0<e.length){O();var r=a.search(t),n=t,i=r.length;if(0===i)z(p.noResultsText);else for(var o=0;o<i;o++)r[o].query=n,z(u.compile(r[o]))}}function j(t){throw new Error("SimpleJekyllSearch --- "+t)}t=window,p={searchInput:null,resultsContainer:null,json:[],success:Function.prototype,searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:Function.prototype,sortMiddleware:function(){return 0},noResultsText:"No results found",limit:10,fuzzy:!1,exclude:[]},h=function t(e){if(!((r=e)&&void 0!==r.required&&r.required instanceof Array))throw new Error("-- OptionsValidator: required options missing");var r;if(!(this instanceof t))return new t(e);var n=e.required;this.getRequiredOptions=function(){return n},this.validate=function(e){var r=[];return n.forEach(function(t){void 0===e[t]&&r.push(t)}),r}}({required:d=["searchInput","resultsContainer","json"]}),m=function(t){return 0<h.validate(t).length&&j("You must specify the following required options: "+d),p=w(p,t),u.setOptions({template:p.searchResultTemplate,middleware:p.templateMiddleware}),a.setOptions({fuzzy:p.fuzzy,limit:p.limit,sort:p.sortMiddleware}),(y(p.json)?g:function(r){v(r,function(t,e){t&&j("failed to get JSON ("+r+")"),g(e)})})(p.json),{search:S}},t.SimpleJekyllSearch=function(t){m(t)}})();